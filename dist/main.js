(()=>{var e={304:e=>{e.exports=e=>{let t=0;const n=e.length,o=[],s=[],i=[];e.forEach((e=>{t+=e.spent}));const c=t/n;e.forEach((e=>{const t=e.spent-c,n={name:e.name,diff:t};t<0?s.push(n):o.push(n)})),o.sort(((e,t)=>t.diff-e.diff)),s.sort(((e,t)=>e.diff-t.diff));for(let e=0;e<s.length;e++)for(let t=0;t<o.length;t++)if(0!==s[e].diff&&0!==o[t].diff){let n={};const c=o[t].diff+s[e].diff;c<=0?(n={from:s[e].name,to:o[t].name,bal:o[t].diff},o[t].diff=0,s[e].diff=c):(n={from:s[e].name,to:o[t].name,bal:-1*s[e].diff},s[e].diff=0,o[t].diff=c),i.push(n)}return i}}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}(()=>{"use strict";const e=n(304),t=document.getElementById("split"),o=document.getElementById("ballance"),s=document.getElementById("reset"),i=document.querySelector(".instruction-modal-close-button"),c=document.getElementById("report-close-btn"),a=document.querySelector(".split-ways-container"),d=document.getElementById("splitCount"),l=(document.querySelector(".head-count-text"),(()=>{const e=document.querySelector(".head-count-text");return function(t){const{value:n}=t.target;0===n.length?e.classList.add("hidden"):e.className.split.length>1&&e.classList.remove("hidden")}})());function r(e,t){const{value:n}=e.target,o=document.getElementById(t);0===n.length?o.classList.add("hidden"):o.className.split.length>1&&o.classList.remove("hidden")}d.addEventListener("input",l),t.addEventListener("click",(()=>{const e=document.querySelector(".people-container");if(document.querySelector(".split-by-person").innerHTML="",e.innerHTML="",d.value){const t=document.createDocumentFragment();for(let e=0;e<d.value;e++){const n=u(e);n.addEventListener("input",(e=>{r(e,`label_${e.target.id}`)})),t.appendChild(n)}e.appendChild(t),document.querySelector(".split-action-buttons").classList.remove("hidden")}else alert("Head count can't be empty")}));const u=e=>{const t=document.createElement("div");return t.className="person-container",t.innerHTML=`<div class="name-input">\n    <div class="name-label hidden" id="label_name_${e}">Name</div>\n    <input type="text" placeholder="Name" id="name_${e}" class="global-input name">\n  </div>\n  <div class="contribution-input">\n  <div class="contribution-label hidden" id="label_contribution_${e}">Contribution</div>\n    <input type="number" placeholder="Contribution" id="contribution_${e}" class="global-input contribution">\n  </div>`,t};o.addEventListener("click",(()=>{const t=[];for(let e=0;e<d.value;e++){const n=document.getElementById(`name_${e}`).value||`Person${e+1}`;let o=document.getElementById(`contribution_${e}`).value;o=""===o?0:o,t.push({name:n,spent:parseFloat(o)})}const n=e(t);document.querySelector(".split-ways-container").classList.remove("hidden"),(e=>{const t=document.querySelector(".split-by-person");if(t.innerHTML="",e.length>0){const n=document.createDocumentFragment();e.forEach((e=>{const t=`<span class="highlight">${e.from}</span> owes <span class="highlight">${e.to}</span> &nbsp;<span>â‚¹${Math.round(100*(e.bal+Number.EPSILON))/100}</span>`,o=document.createElement("p");o.innerHTML=t,o.className="balance-item",n.appendChild(o)})),t.appendChild(n)}else t.innerHTML='<span class="highlight">No one owes shit to anyone</span>'})(n)})),s.addEventListener("click",(()=>{const e=document.querySelector(".people-container"),t=document.querySelector(".split-by-person");document.querySelector(".split-ways-container").classList.add("hidden"),document.querySelector(".split-action-buttons").classList.add("hidden"),t.innerHTML="",e.innerHTML="",d.value=""})),i.addEventListener("click",(()=>{document.querySelector(".app-usage-modal-container").classList.add("hidden")})),c.addEventListener("click",(()=>{document.querySelector(".split-ways-container").classList.add("hidden")})),a.addEventListener("click",(()=>{document.querySelector(".split-ways-container").classList.add("hidden")}))})()})();